#:kivy 2.0.0
WindowManager:
    HomeScreen:
    LevelScreen:
	CustomLevelScreen:

<HomeButton@Button>:
    font_size: 0.35 * self.height
    size_hint: .20,.20
    color: (1, 1, 1, 1)
    background_color: (0,0,0,0)
    markup: True
    Image:
	    source: 'Images/btn_home.png'
		center_x: self.parent.center_x
		center_y: self.parent.center_y
		size: root.width, root.height
<LevelLock@Image>:
	size_hint: .1, .1

<HomeScreen>:
    name: "home"
    FloatLayout:
        Image:
            source:'Images/home_background.jpg'
            pos_hint:{'x': 0,'y':0}
        Label:
            text: "[i][b]Incredibot[/b][/i]"
            markup: True
            pos_hint: {'center_x': .5,'center_y':.88}
            size_hint: .20,.20
            font_size: 0.5 * self.height
            outline_color: (0,0,0)
            outline_width: 10
        HomeButton:
            text:'[b]Levels[/b]'
            pos_hint: {'center_x': .5,'center_y':.65}
            on_release:              
                root.manager.transition.direction = 'left'
                root.manager.current = 'levels'  
        HomeButton:
            text:'[b]Cours[/b]'
            pos_hint: {'center_x': .5,'center_y':.40}
            on_release: root.cours()
        HomeButton:
            text:'[b]Quit[/b]'
            pos_hint: {'center_x': .5,'center_y':.15}
            on_release: app.close_application()

<LevelScreen>:
    name: "levels"
	on_pre_enter: root.update()
    FloatLayout:
        Image:
            source:'Images/level_background.jpg'
            pos_hint:{'x': 0,'y':0}
        HomeButton:
            text: "Home"
            size_hint: .12,.12
            pos_hint: {'center_x': .14,'center_y':.86}            
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'home'
        Label:
            id: _labelEtage
            text: "1"
            pos_hint: {'center_x': .76,'center_y':.86}
            size_hint: .04,.04
            font_size: self.height
            bold: True
        Button:
            id: _boutonAugmente
            font_size: 0.35 * self.height
            text: " + "
            size_hint: .06,.06
            pos_hint: {'center_x': .82,'center_y':.86}
            disabled: False
            on_release: root.augmente()
        Button:
            id: _boutonBaisse
            text: " - "
            font_size: 0.35 * self.height
            size_hint: .06,.06
            pos_hint: {'center_x': .70,'center_y':.86} 
            disabled: True
            on_press: root.baisse()   
        HomeButton:
            id: _bouton1
            text: "Stage 1"
            font_size: 0.3 * self.height
            pos_hint: {'center_x': .14,'center_y':.6}
            on_press:
				root.setLvl(str(1 + 8 * root.etage))
                root.manager.transition.direction = 'left'
                root.manager.current = "custom" if int(root.getLvlMax()) >= (1 + 8 * root.etage) else "levels"
		LevelLock:
			id: _Indicateur1
			source: root.getImage((1 + 8 * root.etage))
			pos_hint: {"x": .16 , "y" : .48}
        HomeButton:
            id: _bouton2
            text: "Stage 2"
            font_size: 0.3 * self.height
            pos_hint: {'center_x': .38,'center_y':.6}
            on_press:
				root.setLvl(str(2 + 8 * root.etage))
                root.manager.transition.direction = 'left'
                root.manager.current = "custom" if int(root.getLvlMax()) >= (2 + 8 * root.etage) else "levels"
		LevelLock:
			id: _Indicateur2
			source: root.getImage((2 + 8 * root.etage))
			pos_hint: {"x": .4 , "y" : .48}
        HomeButton:
            id: _bouton3
            text: "Stage 3"
            font_size: 0.3 * self.height
            pos_hint: {'center_x': .62,'center_y':.6}
            on_press:
				root.setLvl(str(3 + 8 * root.etage))
                root.manager.transition.direction = 'left'
                root.manager.current = "custom" if int(root.getLvlMax()) >= (3 + 8 * root.etage) else "levels"
		LevelLock:
			id: _Indicateur3
			source: root.getImage((3 + 8 * root.etage))
			pos_hint: {"x": .64 , "y" : .48}
        HomeButton:
            id: _bouton4
            text: "Stage 4"
            font_size: 0.3 * self.height
            pos_hint: {'center_x': .86,'center_y':.6}
            on_press:
				root.setLvl(str(4 + 8 * root.etage))
                root.manager.transition.direction = 'left'
                root.manager.current = "custom" if int(root.getLvlMax()) >= (4 + 8 * root.etage) else "levels"
		LevelLock:
			id: _Indicateur4
			source: root.getImage((4 + 8 * root.etage))
			pos_hint: {"x": .88 , "y" : .48}
        HomeButton:
            id: _bouton5
            text: "Stage 5"
            font_size: 0.3 * self.height
            pos_hint: {'center_x': .14,'center_y':.25}
            on_press:
				root.setLvl(str(5 + 8 * root.etage))
                root.manager.transition.direction = 'left'
                root.manager.current = "custom" if int(root.getLvlMax()) >= (5 + 8 * root.etage) else "levels"
		LevelLock:
			id: _Indicateur5
			source: root.getImage((5 + 8 * root.etage))
			pos_hint: {"x": .16 , "y" : .13}
        HomeButton:
            id: _bouton6
            text: "Stage 6"
            font_size: 0.3 * self.height
            pos_hint: {'center_x': .38,'center_y':.25}
            on_press:
				root.setLvl(str(6 + 8 * root.etage))
                root.manager.transition.direction = 'left'
                root.manager.current = "custom" if int(root.getLvlMax()) >= (6 + 8 * root.etage) else "levels"
		LevelLock:
			id: _Indicateur6
			source: root.getImage((6 + 8 * root.etage))
			pos_hint: {"x": .4 , "y" : .13}
        HomeButton:
            id: _bouton7
            text: "Stage 7"
            font_size: 0.3 * self.height
            pos_hint: {'center_x': .62,'center_y':.25}
            on_press:
				root.setLvl(str(7 + 8 * root.etage))
                root.manager.transition.direction = 'left'
                root.manager.current = "custom" if int(root.getLvlMax()) >= (7 + 8 * root.etage) else "levels"
		LevelLock:
			id: _Indicateur7
			source: root.getImage((7 + 8 * root.etage))
			pos_hint: {"x": .64 , "y" : .13}
        HomeButton:
            id: _bouton8
            text: "Stage 8"
            font_size: 0.3 * self.height
            pos_hint: {'center_x': .86,'center_y':.25}
            on_press:
				root.setLvl(str(8 + 8 * root.etage))
                root.manager.transition.direction = 'left'
                root.manager.current = "custom" if int(root.getLvlMax()) >= (8 + 8 * root.etage) else "levels"
		LevelLock:
			id: _Indicateur8
			source: root.getImage((8 + 8 * root.etage))
			pos_hint: {"x": .88 , "y" : .13}
		
<CustomLevelScreen>:
	name: "custom"
	on_pre_enter : root.chargement()
	FloatLayout:
		Button:
			text: "Back"
			font_size: 25
			size_hint: .1, .1  
			pos_hint: {'center_x': .2,'center_y':.2}
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'levels'
		Button:
			text: "Valider"
			font_size: 25
			size_hint: .1, .1  
			pos_hint: {'center_x': .8,'center_y':.2}
			on_press: app.changeLvlMax()
		Label:
			id: _labelNomLvl
			font_size: 0.35 * self.height
			size_hint: .4, .4
			pos_hint: {'center_x': .5,'center_y':.5}
